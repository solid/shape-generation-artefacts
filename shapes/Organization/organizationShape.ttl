@prefix sh:   <http://www.w3.org/ns/shacl#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd:  <http://www.w3.org/2001/XMLSchema#> .
@prefix schema: <http://schema.org/> .
@prefix solid: <http://www.w3.org/ns/solid/terms#> .
@prefix vcard: <http://www.w3.org/2006/vcard/ns#> .

@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .

@prefix es: <https://solid.github.io/shapes/Email#> .
@prefix ts: <https://solid.github.io/shapes/Telephone#> .
@prefix ads: <https://solid.github.io/shapes/Address#> .
@prefix os:   <https://solid.github.io/shapes/Organization#> .


################################################################
# Source: OrganizationCreationForm

# https://github.com/SolidOS/contacts-pane/blob/main/src/ontology/organizationForm.ttl

# see also Organization contact shape (../Contacts/organizationContactShape.ttl)
################################################################

os:OrganizationShape
    a sh:NodeShape ;
    sh:targetClass vcard:Organization ;
    rdfs:label "Organization Shape"@en ;
    rdfs:comment "SHACL shape for validating organization contact and classification details."@en ;

    # Organization Name
    sh:property [
        sh:path schema:name ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:datatype xsd:string ;
        sh:maxLength 200 ;
        rdfs:label "Organization Name"@en ;
        rdfs:comment "The official name of the organization."@en
    ] ;

    # Homepage URL
    sh:property [
        sh:path schema:url ;
        sh:minCount 0 ;
        sh:maxCount 1 ;
        sh:nodeKind sh:IRI ;
        rdfs:label "Homepage URL"@en ;
        rdfs:comment "The homepage or primary web address of the organization."@en
    ] ;

    # Organization Type / Classification
    sh:property [
        sh:path rdf:type ;
        sh:minCount 0 ;
        sh:nodeKind sh:IRI ;
        sh:in (
            schema:Corporation
            schema:EducationalOrganization
            schema:GovernmentOrganization
            schema:NGO
            schema:PerformingGroup
            schema:Project
            schema:SportsOrganization
        ) ;
        rdfs:label "Organization Type / Category"@en ;
        rdfs:comment "Classification of the organization as one of the predefined types."@en
    ] .



# - https://github.com/SolidOS/contacts-pane/blob/main/src/ontology/forms.ttl
# - https://github.com/SolidOS/contacts-pane/blob/main/src/ontology/organizationForm.ttl

os:OrganizationShape2
    a sh:NodeShape ;
    sh:targetClass foaf:Organization ;
    rdfs:label "Organization Shape"@en ;
    rdfs:comment "SHACL shape defining data constraints for an organization "@en ;
    

    sh:property
        # Organization Name
        [ sh:path schema:name ;
          sh:minCount 1 ;
          sh:maxCount 1 ;
          rdfs:label "Organization Name"@en ;
          rdfs:comment "The official name of the organization."@en
        ],

        # Homepage
        [ sh:path schema:url ;
          sh:minCount 0 ;
          sh:maxCount 1 ;
          rdfs:label "Homepage URL"@en ;
          rdfs:comment "The homepage or primary website of the organization."@en
        ],

        # Organization Type / Classification
        [ sh:path rdf:type ;
          sh:minCount 1 ;
          rdfs:label "Organization Type"@en ;
          rdfs:comment "The classification or type of organization (e.g., interesting organization category)."@en
        ],

        # Addresses
        [ sh:path vcard:hasAddress ;
          sh:minCount 0 ;
          rdfs:label "Address"@en ;
          rdfs:comment "Physical addresses."@en ;
          sh:node ads:AddressShape;
        ],

        # Emails
        [ sh:path vcard:hasEmail ;
          sh:minCount 0 ;
          rdfs:label "Email Addresses"@en ;
          rdfs:comment "Email addresses."@en ;
          sh:node es:EmailShape;
        ],

        # Telephones
        [ sh:path vcard:hasTelephone ;
          sh:minCount 0 ;
          rdfs:label "Telephone Numbers"@en ;
          rdfs:comment "Telephone numbers associated with the organization."@en ;
          sh:node ts:TelephoneShape;
        ],

        # Notes
        [ sh:path vcard:note ;
          sh:minCount 0 ;
          sh:maxCount 1 ;
          rdfs:label "Notes"@en ;
          rdfs:comment "General notes about the organization."@en
        ] .