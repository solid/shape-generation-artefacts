@prefix sh:   <http://www.w3.org/ns/shacl#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd:  <http://www.w3.org/2001/XMLSchema#> .
@prefix vcard: <http://www.w3.org/2006/vcard/ns#> .
@prefix owl:  <http://www.w3.org/2002/07/owl#> .
@prefix :     <#> .

################################################################
# SHACL shape for a person/contact (from core:PersonForm)
# source https://github.com/SolidOS/issue-pane/blob/9c24db98fb810ad2139244f8f1552fc0f704c1ac/src/ontology/trackerSettingsForm.ttl
# see also  Person contact shape at [person contact shape](../Contacts/personContactShape.ttl)
################################################################

:PersonShape
    a sh:NodeShape ;
    sh:targetClass vcard:Individual ;
    rdfs:label "Person Shape"@en ;
    rdfs:comment "SHACL shape for validating new contact details."@en ;

    # Solid ID
    sh:property [
        sh:path owl:sameAs ;
        sh:nodeKind sh:IRI ;
        rdfs:label "Solid ID"@en ;
        rdfs:comment "The WebID or URI identifying this person."@en
    ] ;

    # Name
    sh:property [
        sh:path vcard:fn ;
        sh:datatype xsd:string ;
        sh:maxLength 128 ;
        rdfs:label "Full Name"@en ;
        rdfs:comment "The full name of the person/contact."@en
    ] ;

    # Phone
    sh:property [
        sh:path vcard:phone ;
        sh:minCount 0 ;
        sh:datatype xsd:string ;
        rdfs:label "Phone"@en ;
        rdfs:comment "Phone number of the person."@en
    ] ;

    # Email
    sh:property [
        sh:path vcard:email ;
        sh:minCount 0 ;
        sh:datatype xsd:string ;
        rdfs:label "Email"@en ;
        rdfs:comment "Email address of the person."@en
    ] .
