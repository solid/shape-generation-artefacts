@prefix rdf:  <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl: <http://www.w3.org/2002/07/owl#>.
@prefix sh:   <http://www.w3.org/ns/shacl#> .
@prefix xsd:  <http://www.w3.org/2001/XMLSchema#> .
@prefix vcard: <http://www.w3.org/2006/vcard/ns#>.
@prefix : <#>.

<> rdfs:label "Shape file for VCARD data in Solid";
  rdfs:comment """The shapes in this file define the way
  contact information is stored in Solid.  Importantly, this shape,
  defined in the 2014 Note "vCard Ontology - for describing People and Organizations",
  allows direct conversion to and from the widley deployed VCARD format,
  so users should be able import and export and ideally sync their contacts
  between their Solid pod and other systems.

  Note that VCARD has a URL field with a type which allows us to carry
  web URIs such as a hompage URI, a public RDF URI in public data such as dbpedia
  and wikidata, and, critically, a Solid WebID.
  """.



############# groups

:GroupShape a sh:NodeShape;
  sh:targetClass vcard:Group;

  sh:property [
    sh:path vcard:fn ;
    sh:datatype xsd:string;
    sh:minCount 1;
  ];

  sh:property [
    sh:path vcard:member;
    sh:dataType vcard:Individual;
    sh:description """When we know the WebId of an agent, then this MUST
    be used as object of this triple,   Otherwise the ACL system will not
    be abe to use the group to give the person access.
    The main local identifier of the Individual in the address book must
    must be MUST be linked indirectly
    using owl:sameAs in the GroupMemberLocalId shape.
     Any further identifiers we have for that person can be linked using owl:samAs
     but in the main address card."""
  ].

:GroupMemberLocalId a sh:NodeShape;
    sh:targetObjectsOf vcard:member;
    sh:property [
       sh:path owl:sameAs;
       sh:count 1;
       sh:dataType vcard:Individual
    ].
# ends

# Source file: ../data/raw/shacl/SolidOS_contacts_pane_shapes_contacts_shapes_ttl.ttl
